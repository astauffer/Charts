<html>
<head>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
  <script type="text/javascript" src="https://vega.github.io/vega/vega.min.js"></script>
  <script type="text/javascript" src="https://npmcdn.com/arcgis-cedar/dist/cedar.js"></script>
</head>
<body>

<div class="row">
  <div style="width: 800px; height: 500px" id="chart"></div>

</div>

<script type="text/javascript">
var chart = new Cedar({
  "type": "bar",
  "dataset": {
    "url":"https://maps7.arcgisonline.com/arcgis/rest/services/Veterans_Proportion_From_Population/MapServer/0",
    "query": {
      "orderByFields": "TotPop DESC"
    },
    "mappings":{
      "x": {"field":"STATE_NAME","label":"US State"},
      "y": {"field":"TotPop","label":"Population"}
    }
  }
}).show({
  elementId: "#chart",
  autolabels: true,
  renderer: "svg"
});
</script>
</body>
</html>
